{"version":3,"sources":["src/components/Header.js","src/components/Home.js","src/components/Posts.js","src/components/Post.js","src/components/Footer.js","src/components/PostUpdate.js","index.js"],"names":["Header","Home","Posts","posts","docs","map","post","postData","data","title","content","id","join","Post","Footer","PostUpdate","pageBuild","header","navHome","navPosts","footer","document","querySelector","innerHTML","addEventListener","getDatabaseCollectionContext","get","then","focusOnSingularPost","app","postsRef","event","target","classList","contains","postTitle","parentElement","value","postContent","add","setTimeout","postId","console","log","doc","delete","getDatabaseItemContext","update","firebase","firestore","collection"],"mappings":"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","file":"index.js","sourceRoot":"..","sourcesContent":["export default function Header() {\r\n  return `\r\n          <nav class= 'nav'>\r\n              <h1 class= 'nav-logo'>BlogPage</h1>\r\n              <ul class= 'nav-list'>\r\n                  <li class= 'nav-list__home'>Home</li>\r\n                  <li class= 'nav-list__posts'>Posts</li>\r\n              </ul>\r\n          </nav>\r\n      `;\r\n}\r\n","export default function Home() {\r\n  return `\r\n      <div class='main-content'>\r\n      <h1 class='main-content__welcome'>Welcome to this SPA demo</h1>\r\n      <h3 class='main-content__text'>Using Firebase</h3>\r\n      <div>\r\n      `;\r\n}\r\n","export default function Posts(posts) {\r\n  return `\r\n    <div>\r\n    ${posts.docs\r\n      .map(post => {\r\n        const postData = post.data();\r\n        return `\r\n            <section class='main-content__posts'>\r\n                <h3>${postData.title}</h3>\r\n                <p>${postData.content}</p>\r\n                <input class='delete-post__id' type='hidden' value=\"${post.id}\">\r\n                <button class='delete-post__submit'>&times</button>\r\n                <button class='edit-post__submit'>...</button>\r\n            </section>\r\n        `;\r\n      })\r\n      .join(\"\")}\r\n    </div>\r\n    <section class='add-post'>\r\n        <input class='add-post__postTitle' type='text' name='title' placeholder='post title'>\r\n        <input class='add-post__postBody type='text' name='content' placeholder='post content'>\r\n        <button class='add-post__submit'>Submit</button>\r\n    </section>\r\n    `;\r\n}\r\n","export default function Post(post) {\r\n  const postData = post.data();\r\n  return `\r\n      <section class='main-content__posts'>\r\n          <h3>${postData.title}</h3>\r\n          <p>${postData.content}</p>\r\n      </section>\r\n          \r\n      <section class='update-post'>\r\n          <input class='update-post__postTitle' type='text' placeholder='edit title'>\r\n          <input class='update-post__postBody' type='text' placeholder='edit content'>\r\n          <button class='update-post__submit'>Edit</button>\r\n          <input class='update-post__id' type='hidden' value=\"${post.id}\">\r\n      </section>\r\n  \r\n      `;\r\n}\r\n","export default function Footer() {\r\n  return `\r\n          <small>&copy 2019</small>\r\n      `;\r\n}\r\n","import \"../../css/style.css\";\r\n\r\nexport default function PostUpdate() {\r\n  return `\r\n    <h2 class='main-content__update'>Post successfully sent</h2>\r\n    `;\r\n}\r\n","import Header from \"./src/components/Header\";\r\nimport Home from \"./src/components/Home\";\r\nimport Posts from \"./src/components/Posts\";\r\nimport Post from \"./src/components/Post\";\r\nimport Footer from \"./src/components/Footer\";\r\nimport PostUpdate from \"./src/components/PostUpdate\";\r\nimport \"./css/style.css\";\r\n\r\npageBuild();\r\n\r\nfunction pageBuild() {\r\n  header();\r\n  navHome();\r\n  navPosts();\r\n  footer();\r\n}\r\n\r\nfunction header() {\r\n  const header = document.querySelector(\"#header\");\r\n  header.innerHTML = Header(); //send component into our html\r\n}\r\n\r\nfunction footer() {\r\n  const footer = document.querySelector(\"#footer\");\r\n  footer.innerHTML = Footer();\r\n}\r\n\r\nfunction navHome() {\r\n  const homeButton = document.querySelector(\".nav-list__home\");\r\n  homeButton.addEventListener(\"click\", function() {\r\n    document.querySelector(\"#app\").innerHTML = Home();\r\n  });\r\n}\r\n\r\nfunction navPosts() {\r\n  //get request\r\n  const postsButton = document.querySelector(\".nav-list__posts\");\r\n  postsButton.addEventListener(\"click\", function() {\r\n    const postsRef = getDatabaseCollectionContext();\r\n    postsRef.get().then(posts => {\r\n      document.querySelector(\"#app\").innerHTML = Posts(posts);\r\n    });\r\n\r\n    focusOnSingularPost();\r\n  });\r\n\r\n  //post request\r\n  const app = document.querySelector(\"#app\");\r\n  app.addEventListener(\"click\", function() {\r\n    const postsRef = getDatabaseCollectionContext();\r\n    if (event.target.classList.contains(\"add-post__submit\")) {\r\n      const postTitle = event.target.parentElement.querySelector(\r\n        \".add-post__postTitle\"\r\n      ).value;\r\n      const postContent = event.target.parentElement.querySelector(\r\n        \".add-post__postBody\"\r\n      ).value;\r\n\r\n      postsRef.add({\r\n        title: postTitle,\r\n        content: postContent\r\n      });\r\n\r\n      document.querySelector(\"#app\").innerHTML = PostUpdate();\r\n      setTimeout(function() {\r\n        postsRef.get().then(posts => {\r\n          document.querySelector(\"#app\").innerHTML = Posts(posts);\r\n        });\r\n      }, 3000);\r\n    }\r\n  });\r\n\r\n  //delete request\r\n  app.addEventListener(\"click\", function() {\r\n    const postsRef = getDatabaseCollectionContext();\r\n    if (event.target.classList.contains(\"delete-post__submit\")) {\r\n      const postId = event.target.parentElement.querySelector(\r\n        \".delete-post__id\"\r\n      ).value;\r\n      console.log(postId);\r\n\r\n      postsRef.doc(postId).delete();\r\n      postsRef.get().then(posts => {\r\n        document.querySelector(\"#app\").innerHTML = Posts(posts);\r\n      });\r\n    }\r\n  });\r\n\r\n  //update request\r\n  app.addEventListener(\"click\", function() {\r\n    if (event.target.classList.contains(\"update-post__submit\")) {\r\n      const postId = event.target.parentElement.querySelector(\r\n        \".update-post__id\"\r\n      ).value;\r\n\r\n      const postTitle = event.target.parentElement.querySelector(\r\n        \".update-post__postTitle\"\r\n      ).value;\r\n      const postContent = event.target.parentElement.querySelector(\r\n        \".update-post__postBody\"\r\n      ).value;\r\n      const postsRef = getDatabaseItemContext(postId);\r\n      postsRef.update({\r\n        title: postTitle,\r\n        content: postContent\r\n      });\r\n\r\n      postsRef.get().then(post => {\r\n        document.querySelector(\"#app\").innerHTML = Post(post);\r\n      });\r\n    }\r\n  });\r\n}\r\n\r\n//allows for focus on the single post\r\nfunction focusOnSingularPost() {\r\n  const app = document.querySelector(\"#app\");\r\n  app.addEventListener(\"click\", function() {\r\n    if (event.target.classList.contains(\"edit-post__submit\")) {\r\n      const postId = event.target.parentElement.querySelector(\r\n        \".delete-post__id\"\r\n      ).value;\r\n      console.log(postId);\r\n      const postsRef = getDatabaseItemContext(postId);\r\n      postsRef.get().then(post => {\r\n        document.querySelector(\"#app\").innerHTML = Post(post);\r\n      });\r\n    }\r\n  });\r\n}\r\n\r\nfunction getDatabaseCollectionContext() {\r\n  const db = firebase.firestore();\r\n  const postsRef = db.collection(\"posts\");\r\n  return postsRef;\r\n}\r\n\r\nfunction getDatabaseItemContext(id) {\r\n  const db = firebase.firestore();\r\n  const postsRef = db.collection(\"posts\").doc(id);\r\n  return postsRef;\r\n}\r\n"]}